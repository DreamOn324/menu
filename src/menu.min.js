(function(b,m){var d=b(".ve-menu-pc"),f=d.children("li").children("a"),h=d.find("ul").find("a"),k=d.find("ul").length,l=function(a){this.themeColor={blue:{fontColor:"#fff",bgColor:"#0E90D2",hoverFontColor:"#fff",hoverBgColor:"#0C79B1"},dark:{fontColor:"#9D9D9D",bgColor:"#1F1F1F",hoverFontColor:"#fff",hoverBgColor:"#000"}};this.defaults={firstFontSize:"16px",firstFontColor:this.themeColor.blue.fontColor,firstBgColor:this.themeColor.blue.bgColor,firstHoverFontColor:this.themeColor.blue.hoverFontColor,
firstHoverBgColor:this.themeColor.blue.hoverBgColor,secondFontSize:"16px",secondFontColor:this.themeColor.blue.fontColor,secondBgColor:this.themeColor.blue.bgColor,secondHoverFontColor:this.themeColor.blue.hoverFontColor,secondHoverBgColor:this.themeColor.blue.hoverBgColor,height:40,itemWidth:20,itemMargin:1,theme:"blue",menuIconColor:"#000",menuMaskColor:"#000",mFirstBgColor:"#000",mFirstFontColor:"#fff",mSecondBgColor:"#222",mSecondFontColor:"#fff",closeIconColor:"#fff",animate:!1};this.settings=
b.extend({},this.defaults,a);this.isMobile=!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/)};l.prototype={setDefaultTheme:function(){function a(a,b){f.css({color:a,backgroundColor:b});h.css({color:a,backgroundColor:b})}function c(a,c){var f;d.find("a").hover(function(){var d=b(this);d.css("color");f=d.css("backgroundColor");d.css({color:a,backgroundColor:c})},function(){b(this).css({color:void 0,backgroundColor:f})})}switch(this.settings.theme){case "blue":a(this.themeColor.blue.fontColor,this.themeColor.blue.bgColor);
!this.isMobile&&c(this.themeColor.blue.hoverFontColor,this.themeColor.blue.hoverBgColor);break;case "dark":a(this.themeColor.dark.fontColor,this.themeColor.dark.bgColor),!this.isMobile&&c(this.themeColor.dark.hoverFontColor,this.themeColor.dark.hoverBgColor)}return this},setFirstMenu:function(){var a=this;f.css({height:a.settings.height,lineHeight:a.settings.height+"px",fontSize:a.settings.firstFontSize,color:a.settings.firstFontColor,backgroundColor:a.settings.firstBgColor}).parent("li").each(function(c,
d){var e=b(this);e.width(e.width()+a.settings.itemWidth)}).not(d.children("li").first()).css({marginLeft:this.settings.itemMargin+"px"});return a},setSecondMenu:function(){var a=this;k&&(h.css({height:a.settings.height,lineHeight:a.settings.height+"px",fontSize:a.settings.secondFontSize,color:a.settings.secondFontColor,backgroundColor:a.settings.secondBgColor}),b.each(f,function(c,d){var e=b(this).next("ul");e.css("top",a.settings.height);e.width()+a.settings.itemWidth<f.width()?e.width(f.width()):
e.width(e.width()+a.settings.itemWidth)}));return a},setHoverCss:function(){var a=this;f.hover(function(){b(this).css({color:a.settings.firstHoverFontColor,backgroundColor:a.settings.firstHoverBgColor})},function(){b(this).css({color:a.settings.firstFontColor,backgroundColor:a.settings.firstBgColor})});h.hover(function(){var c=b(this);c.css({color:a.settings.secondHoverFontColor,backgroundColor:a.settings.secondHoverBgColor});c.parents("ul").first().prev().css({color:a.settings.firstHoverFontColor,
backgroundColor:a.settings.firstHoverBgColor})},function(){var c=b(this);c.css({color:a.settings.secondFontColor,backgroundColor:a.settings.secondBgColor});c.parents("ul").first().prev().css({color:a.settings.firstFontColor,backgroundColor:a.settings.firstBgColor})})},responsiveLayout:function(){var a=this,c=b(m).width(),g=b(".ve-menu-icon");768>=c?g.length?(d.hide(),g.show()):(d.hide(),d.after('<div class="ve-menu-icon"><div></div><div></div><div></div></div>'),g=b(".ve-menu-icon"),g.css("marginTop",
(f.height()-g.height())/2).on("click",function(){b('<div class="ve-menu-mask"></div>').css("background",a.settings.menuMaskColor).appendTo(".ve-menu").after('<ul class="ve-menu-mobile"><li class="ve-menu-close"><div></div></li>'+d.html()+"</ul>").next().find("ul, li, a").removeAttr("style");a.settings.animate&&(a.animate(b(".ve-menu-mask"),"fade",100),a.animate(b(".ve-menu-mobile"),"fade",300));b(".ve-menu-mobile").children("li").on("click",function(){var c=0;a.settings.animate&&(c=200);b(this).find("ul").toggle(c).on("click",
function(a){return!1}).find("a").css({background:a.settings.mSecondBgColor,color:a.settings.mSecondFontColor})}).children("a").css({background:a.settings.mFirstBgColor,color:a.settings.mFirstFontColor});b(".ve-menu-close").css("color",a.settings.closeIconColor).children("div").on("click",function(){a.settings.animate?(b(".ve-menu-mask").fadeOut(300),b(".ve-menu-mobile").fadeOut(100)):(b(".ve-menu-mask").hide(),b(".ve-menu-mobile").hide())})}).children("div").css("background",a.settings.menuIconColor)):
g.length&&(d.show(),g.hide());return a},supportFastClick:function(){if(this.isMobile)try{FastClick&&FastClick.attach(document.body)}catch(a){console.log("fastclick.js is not found.You are still using normal 'click'")}else k&&this.setHoverCss();return this},animate:function(a,b,d){var e={};switch(b){case "fade":a.css("opacity",0),e.opacity=1}a.animate(e,d,"linear",function(){})}};b.fn.menu=function(a){var c=new l(a);c.setDefaultTheme().setFirstMenu().setSecondMenu().responsiveLayout().supportFastClick();
b(window).resize(function(a){c.responsiveLayout()});return this}})(jQuery,window);