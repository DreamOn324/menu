!function(a,b){var c=a(".ve-menu-pc"),d=c.children("li").children("a"),e=c.find("ul").find("a"),f=c.find("ul").length,g=function(b){this.themeColor={blue:{fontColor:"#fff",bgColor:"#0E90D2",hoverFontColor:"#fff",hoverBgColor:"#0C79B1"},dark:{fontColor:"#9D9D9D",bgColor:"#1F1F1F",hoverFontColor:"#fff",hoverBgColor:"#000"}},this.defaults={firstFontSize:"16px",firstFontColor:this.themeColor.blue.fontColor,firstBgColor:this.themeColor.blue.bgColor,firstHoverFontColor:this.themeColor.blue.hoverFontColor,firstHoverBgColor:this.themeColor.blue.hoverBgColor,secondFontSize:"16px",secondFontColor:this.themeColor.blue.fontColor,secondBgColor:this.themeColor.blue.bgColor,secondHoverFontColor:this.themeColor.blue.hoverFontColor,secondHoverBgColor:this.themeColor.blue.hoverBgColor,height:40,itemWidth:20,itemMargin:1,theme:"blue",menuIconColor:"#000",menuMaskColor:"#000",mFirstBgColor:"#000",mFirstFontColor:"#fff",mSecondBgColor:"#222",mSecondFontColor:"#fff",closeIconColor:"#fff"},this.settings=a.extend({},this.defaults,b),this.isMobile=!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/)};g.prototype={setDefaultTheme:function(){function b(a,b){d.css({color:a,backgroundColor:b}),e.css({color:a,backgroundColor:b})}function f(b,d){var e,f;c.find("a").hover(function(){var c=a(this);c.css("color");f=c.css("backgroundColor"),c.css({color:b,backgroundColor:d})},function(){a(this).css({color:e,backgroundColor:f})})}switch(this.settings.theme){case"blue":b(this.themeColor.blue.fontColor,this.themeColor.blue.bgColor),!this.isMobile&&f(this.themeColor.blue.hoverFontColor,this.themeColor.blue.hoverBgColor);break;case"dark":b(this.themeColor.dark.fontColor,this.themeColor.dark.bgColor),!this.isMobile&&f(this.themeColor.dark.hoverFontColor,this.themeColor.dark.hoverBgColor)}return this},setFirstMenu:function(){var b=this;return d.css({height:b.settings.height,lineHeight:b.settings.height+"px",fontSize:b.settings.firstFontSize,color:b.settings.firstFontColor,backgroundColor:b.settings.firstBgColor}).parent("li").each(function(c,d){var e=a(this);e.width(e.width()+b.settings.itemWidth)}).not(c.children("li").first()).css({marginLeft:this.settings.itemMargin+"px"}),b},setSecondMenu:function(){var b=this;return f&&(e.css({height:b.settings.height,lineHeight:b.settings.height+"px",fontSize:b.settings.secondFontSize,color:b.settings.secondFontColor,backgroundColor:b.settings.secondBgColor}),a.each(d,function(c,e){var f=a(this).next("ul");f.css("top",b.settings.height),f.width()+b.settings.itemWidth<d.width()?f.width(d.width()):f.width(f.width()+b.settings.itemWidth)})),b},setHoverCss:function(){var b=this;d.hover(function(){a(this).css({color:b.settings.firstHoverFontColor,backgroundColor:b.settings.firstHoverBgColor})},function(){a(this).css({color:b.settings.firstFontColor,backgroundColor:b.settings.firstBgColor})}),e.hover(function(){var c=a(this);c.css({color:b.settings.secondHoverFontColor,backgroundColor:b.settings.secondHoverBgColor}),c.parents("ul").first().prev().css({color:b.settings.firstHoverFontColor,backgroundColor:b.settings.firstHoverBgColor})},function(){var c=a(this);c.css({color:b.settings.secondFontColor,backgroundColor:b.settings.secondBgColor}),c.parents("ul").first().prev().css({color:b.settings.firstFontColor,backgroundColor:b.settings.firstBgColor})})},responsiveLayout:function(){var e=this,f=a(b).width(),g=a(".ve-menu-icon");return 768>=f?g.length?(c.hide(),g.show()):(c.hide(),c.after('<div class="ve-menu-icon"><div></div><div></div><div></div></div>'),g=a(".ve-menu-icon"),g.css("marginTop",(d.height()-g.height())/2).on("click",function(){a('<div class="ve-menu-mask"></div>').css("background",e.settings.menuMaskColor).appendTo(".ve-menu").after('<ul class="ve-menu-mobile"><li class="ve-menu-close"><div></div></li>'+c.html()+"</ul>").next().find("ul, li, a").removeAttr("style"),a(".ve-menu-mobile").children("li").on("click",function(){a(this).find("ul").toggle().on("click",function(a){return!1}).find("a").css({background:e.settings.mSecondBgColor,color:e.settings.mSecondFontColor})}).children("a").css({background:e.settings.mFirstBgColor,color:e.settings.mFirstFontColor}),a(".ve-menu-close").css("color",e.settings.closeIconColor).children("div").on("click",function(){a(".ve-menu-mask").hide(),a(".ve-menu-mobile").hide()})}).children("div").css("background",e.settings.menuIconColor)):g.length&&(c.show(),g.hide()),e},supportFastClick:function(){if(this.isMobile)try{FastClick&&FastClick.attach(document.body)}catch(a){console.log("fastclick.js is not found.You are still using normal 'click'")}else f&&this.setHoverCss();return this}},a.fn.menu=function(b){var c=new g(b);return c.setDefaultTheme().setFirstMenu().setSecondMenu().responsiveLayout().supportFastClick(),a(window).resize(function(a){c.responsiveLayout()}),this}}(jQuery,window);